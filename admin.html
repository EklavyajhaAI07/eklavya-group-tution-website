<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel ‚Äì Eklavya Group Tution</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin.css">
    <style>
    /* Admin Login Overlay Styles */
    #login-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: #f0f2f5; display: flex; align-items: center; justify-content: center;
        z-index: 9999; font-family: 'Inter', sans-serif;
    }
    .login-card {
        background: white; padding: 2.5rem; border-radius: 15px;
        box-shadow: 0 10px 40px rgba(0,0,0,0.1); width: 100%; max-width: 400px;
        text-align: center; border-top: 6px solid #000080;
    }
    .login-card h2 { color: #000080; margin-bottom: 5px; font-weight: 800; }
    .login-card p { color: #666; margin-bottom: 2rem; font-size: 0.9rem; }
    .login-input {
        width: 100%; padding: 12px 15px; margin-bottom: 1.2rem;
        border: 1.5px solid #eee; border-radius: 8px; font-size: 1rem;
        transition: border-color 0.3s; outline: none; box-sizing: border-box;
    }
    .login-input:focus { border-color: #000080; }
    .login-btn {
        width: 100%; padding: 14px; background: #000080; color: white;
        border: none; border-radius: 8px; font-weight: 700; cursor: pointer;
        font-size: 1rem; transition: background 0.3s;
    }
    .login-btn:hover { background: #000066; }
    #login-error { color: #e11d48; font-size: 0.85rem; margin-top: 1rem; display: none; font-weight: 500; }

    /* Force Navy Blue on Admin Header */
    .admin-header { background-color: #000080 !important; }
    
    /* Hide Dashboard content initially */
    #dashboard-wrapper { display: none; }
</style>
</head>

<body>
    <!-- 1. LOGIN OVERLAY (This was missing from your code) -->
    <div id="login-overlay">
        <div class="login-card">
            <h2>Admin Access</h2>
            <p>Eklavya Group Tution</p>
            <input type="text" id="auth-user" class="login-input" placeholder="Admin Name">
            <input type="password" id="auth-pass" class="login-input" placeholder="Passkey">
            <button onclick="handleLogin()" class="login-btn">Login to Dashboard</button>
            <p id="login-error">Invalid credentials. Access Denied.</p>
        </div>
    </div>

    <!-- 2. START DASHBOARD WRAPPER (This hides everything until login) -->
    <div id="dashboard-wrapper">

        <!-- Admin Header -->
        <header class="admin-header">
            <div class="container">
                <div class="admin-header-content">
                    <div class="admin-brand">
                        <span class="admin-logo">‚öôÔ∏è</span>
                        <div>
                            <h1>Admin Panel</h1>
                            <p>Eklavya Group Tution</p>
                        </div>
                    </div>
                    <div style="display:flex; gap:10px; align-items:center;">
                        <a href="index.html" class="btn btn-outline" target="_blank" style="color:white; border-color:white;">View Website</a>
                        <!-- Added Logout Button -->
                        <button onclick="logoutAdmin()" class="btn" style="background: #444; color: white; padding: 5px 10px; border-radius: 4px; border:none; cursor:pointer;">Logout</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Admin Navigation -->
        <nav class="admin-nav">
            <div class="container">
                <div class="admin-tabs">
                    <button class="admin-tab active" data-tab="achievements">
                        <span class="tab-icon">üèÜ</span> Achievements
                    </button>
                    <button class="admin-tab" data-tab="faculty">
                        <span class="tab-icon">üë®‚Äçüè´</span> Faculty
                    </button>
                    <button class="admin-tab" data-tab="events">
                        <span class="tab-icon">üì¢</span> Events & Notices
                    </button>
                    <button class="admin-tab" data-tab="gallery">
                        <span class="tab-icon">üñºÔ∏è</span> Gallery
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="admin-main">
            <div class="container">
                <!-- ... Your existing Achievements, Faculty, Events, and Gallery tabs stay here ... -->
            </div>
        </main>

        <!-- Modals (Achievement, Faculty, Notice, Event, Gallery) -->
        <!-- [Keep all your existing modal code here] -->

        <!-- Toast Notification -->
        <div id="toast" class="toast">
            <span id="toast-message"></span>
        </div>

    </div> <!-- 3. END DASHBOARD WRAPPER (This must be here) -->

    <!-- Scripts -->
    <script src="js/admin.js"></script>

    <!-- Authentication Script -->
    <script>
        function handleLogin() {
            const userField = document.getElementById('auth-user').value;
            const passField = document.getElementById('auth-pass').value;
            const errorMsg = document.getElementById('login-error');

            if (userField === "Tushar Shah" && passField === "EGTTushar@1999") {
                sessionStorage.setItem('egt_auth', 'true');
                enterDashboard();
            } else {
                errorMsg.style.display = 'block';
                const card = document.querySelector('.login-card');
                card.style.transform = 'translateX(10px)';
                setTimeout(() => card.style.transform = 'translateX(-10px)', 100);
                setTimeout(() => card.style.transform = 'translateX(0)', 200);
            }
        }

        function enterDashboard() {
            document.getElementById('login-overlay').style.display = 'none';
            document.getElementById('dashboard-wrapper').style.display = 'block';
        }

        window.onload = function() {
            if (sessionStorage.getItem('egt_auth') === 'true') {
                enterDashboard();
            }
        }
        
        function logoutAdmin() {
            sessionStorage.removeItem('egt_auth');
            location.reload();
        }
    </script>
</body>
</html>
